
   10 REM Print Registers on BRK
   30 DIM K(6),AA(1),A(8),P(-1)
   35 B=?#202+256*?#203
   40 ?16=A;?17=A&#FFFF/256;$A="GOTO150"
   45[
   50:AA0 STA K+2; STX K+3
   60 PLA; STA K+6; PLA; STA K
   80 PLA; STA K+1
   90 STY K+4; TSX; STX K+5
  100 JMP B
  110]
  120 REM INSTALL BRK ROUTINE
  130 ?#202=AA0; ?#203=AA0&#FFFF/256
  135 GOTO 200
  140 REM PRINT REGISTERS
  150 @=5
  160 PRINT"  PC   A  X  Y  S  P"'
  170 PRINT&!K&#FFFF-2;FORN=2TO6
  175 @=3
  180 PRINT&K?N;N.
  190 PRINT'; END
  200 REM DEMONSTRATE USE
  210[
  220:AA1 LDA @#12; LDX @#34
  230 LDY @#56; BRK
  240]
  250 REM EXECUTE TEST PROGRAM
  260 LINK AA1

