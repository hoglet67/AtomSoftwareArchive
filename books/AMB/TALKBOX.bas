
10 REM ATOM MAGIC BOOK PAG.14
20 REM TALKBACK
30DIM YY(6),ZZ(7),A(10);GOSUB 440
40 P.$12;P=P&#FF00+#100
50 P.$21;GOSUBa;GOSUBa;P.$6$12
60 DO INPUT"RECORD (R) OR PLAYBACK (P) "$A
70 UNTIL ?A=CH"P" OR ?A=CH"R"
80 IF ?A=CH"P" LINK ZZ0;GOTO 50
90 P.'"ONE MOMENT PLEASE"'
100 C=#1010101
110 FOR X=#8200 TO #97FF STEP 4
120 !X=C;NEXT X
130 P.$12"PRESS ANY KEY TO START RECORDING"
140 LINK #FFE3;LINK YY0
150 P.$12"** END **"''$7;GOTO 50
160a REM RECORD ROUTINE
170 DIM P(-1)
180[
190:YY0 LDX @0;LDY @#82
200:YY1 LDA @10
210:YY2 SEC;NOP;SBC @1;BNE YY2
220 LDA #B002;ROL A;ROL A;ROL A
230:YY3 ROL #8200,X;BCC YY5
240 INX;BNE YY6
250 INY;STY YY3+2;CPY @#98
260:YY4 BNE YY1;RTS
270:YY5 LDA @#FF;NOP
280:YY6 NOP;NOP;BNE YY4
290]
300 REM PLAYBACK ROUTINE
310[
320:ZZ0 LDX @0;LDY @#82
330:ZZ1 LDA @8;STA ZZ7
340:ZZ2 LDA #8200,X
350:ZZ3 ASL A;PHA;PHP;LDA @10
360:ZZ4 SEC;SBC @1;BNE ZZ4;NOP
370 PLP;LDA @4;ADC @0;STA #B003
380 PLA;DEC ZZ7;BNE ZZ6;INX;BNE ZZ5
390 INY;STY ZZ2+2;CPY @#98;BNE ZZ1;RTS
400:ZZ5 PHA;PLA;NOP;JMP ZZ1
410:ZZ6 ASL #FF00,X;ASL #FF00,X;ASL #FF00,X;JMP ZZ3
420:ZZ7 NOP
430];RETURN
440 P.$12"        ****************"'"        *** TALKBACK ***"
450 P.'"        ****************"''"WHILE THIS PROGRAM DOES "
460 P."NOT ANSWER MAN'S DREAM OF A TALKING COMPUTER, IT DOES "
470 P."ALLOW YOU TO RECORD A FEW SECONDS OF SPEECH IN ATOM'S "
480 P."MEMORY, THEN PLAY IT BACK ON DEMAND."''
490 P."PRESS KEY TO CONTINUE";LINK #FFE3;P.$12
500 P."THE SPEECH IS CONVERTED TO DIGITAL FORM THEN STORED IN"
510 P." THE VDU RAM AREA (ABOVE THE TEXT SCREEN AREA). EACH 1"
520 P."K BYTE GIVING ONE SECOND OF RECORDING TIME. IN ANY DIG"
530 P."ITAL SPEECH RECORDING SYSTEM A COMPROMISE MUST BE MADE"
540 P." BETWEEN QUALITY OF REPRODUCTION AND THE AMOUNT OF STO"
550 P."RAGE NEEDED - IN THIS CASE THE CHOISE HAS BEEN TO EXTE"
560 P."ND THE RECORDING TIME AS MUCH AS POSSIBLE."''
570 P."PRESS KEY TO CONTINUE"';LINK #FFE3;P.$12
580 P."WE HAVE TO ACCEPT A PRETTY DREADFUL QUALITY FOR THE "
590 P."REPRODUCED SIGNAL, ALTHOUGH A NOTICEABLE IMPROVEMENT "
600 P."CAN BE MADE BY CAREFUL CHOISE OF THE RECORDING LEVEL "
610 P."AND BY TURNING ANY AMPLEFIER 'TREBLE' CONTROL TO MINIM"
620 P."UM."'"RECORDING IS DONE FROM A MICROPHONE CONNECTED "
630 P."VIA A SUITABLE AMPLIFIER TO ATOM'S 'CASS IN' PORT. "
640 P."THE LEVEL NEEDED BY ATOM IS ABOUT THE SAME AS WHEN LOA"
650 P."DING PROGRAMS FROM TAPE."''
660 P."PRESS KEY TO CONTINUE"';LINK #FFE3;P.$12
670 P."THE CASSETTE RECORDER AMPLIFIER WILL PROBABLY SUITABLE"
680 P.". PLAYBACK IS THROUGH ATOM'S BUILT-IN LOUDSPEAKER."''
690 P."PRESS KEY TO CONTINUE"';LINK #FFE3;P.$12
700 P."WHEN THE PROGRAM IS RUN, IT ASKS IF YOU WANT TO RECORD"
710 P." OR PLAYBACK. IF YOU CHOSSE RECORD, THEN THE SCREEN "
720 P."WILL BE COVERED BY 'SNOW' FOR A FEW SECONDS WHILE THE "
730 P."PROGRAM INITIALISES THE VDU RAM AREA. YOU ARE THEN ASK"
740 P."ED TO PRESS ANY KEY TO START THE RECORDING PROCESS. "
750 P."WHILE RECORDING THE SCREEN WILL AGAIN BE SPRINKLED "
760 P."WITH WHITE LINES AS THE DATA IS STORED."''
770 P."PRESS KEY TO START"';LINK #FFE3;RETURN
